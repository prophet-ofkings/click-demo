<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="theme-color" content="#000000">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<title>Click Capital â€” Marina Heights Residency</title>
<link rel="icon" href="../assets/favicon.png" type="image/png">
<link rel="stylesheet" href="shared-native.css">
<link rel="stylesheet" href="design-tokens.css">
<link rel="stylesheet" href="preview-alignment.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
  html, body { background: #000; font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif; color: #fff; min-height: 100vh; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
  a { text-decoration: none; color: inherit; }

  .phone-frame {
    max-width: 390px;
    margin: 0 auto;
    min-height: 100vh;
    background: #000;
    position: relative;
    overflow-x: hidden;
  }

  /* Hero */
  .hero {
    position: relative;
    height: 360px;
    overflow: hidden;
  }
  .hero img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }
  .hero-gradient {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 220px;
    background: linear-gradient(to bottom, transparent, rgba(0,0,0,0.4) 40%, rgba(0,0,0,0.9));
    pointer-events: none;
  }
  .hero-actions {
    position: absolute;
    top: calc(16px + env(safe-area-inset-top));
    left: calc(20px + env(safe-area-inset-left));
    right: calc(20px + env(safe-area-inset-right));
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    z-index: 5;
  }
  .back-btn {
    width: 44px;
    height: 44px;
    border-radius: 14px;
    background: rgba(15,15,15,0.7);
    border: 1px solid rgba(255,255,255,0.08);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: border-color 0.2s;
  }
  .back-btn:hover {
    border-color: rgba(255,255,255,0.2);
  }
  .back-btn svg {
    width: 22px;
    height: 22px;
    color: #fff;
  }
  .badge {
    padding: 5px 12px;
    border-radius: 8px;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.3px;
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    margin-top: 4px;
  }
  .badge-live {
    background: rgba(48,209,88,0.2);
    color: #30D158;
    border: 1px solid rgba(48,209,88,0.3);
  }
  .hero-content {
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    z-index: 5;
  }
  .hero-title {
    font-size: 28px;
    font-weight: 800;
    color: #fff;
    margin-bottom: 8px;
    text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    line-height: 1.15;
  }
  .hero-location {
    display: flex;
    align-items: center;
    gap: 6px;
  }
  .hero-location svg {
    width: 16px;
    height: 16px;
    color: #00ffc8;
    flex-shrink: 0;
  }
  .hero-location span {
    font-size: 15px;
    font-weight: 500;
    color: #BBBBBB;
  }

  /* Content */
  .content {
    padding: 20px calc(20px + env(safe-area-inset-left)) 20px calc(20px + env(safe-area-inset-right));
  }

  /* Glass Card */
  .glass-card {
    background: rgba(15,15,15,0.7);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 16px;
    padding: 20px;
    position: relative;
    overflow: hidden;
  }
  .glass-card-no-pad {
    background: rgba(15,15,15,0.7);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 16px;
    position: relative;
    overflow: hidden;
  }

  /* Stats Grid */
  .stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 24px;
  }
  .stat-card {
    background: rgba(15,15,15,0.7);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 16px;
    padding: 16px;
    text-align: center;
  }
  .stat-icon {
    width: 36px;
    height: 36px;
    border-radius: 10px;
    background: rgba(0,255,200,0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 12px;
  }
  .stat-icon svg {
    width: 18px;
    height: 18px;
    color: #00ffc8;
  }
  .stat-value {
    font-size: 22px;
    font-weight: 800;
    color: #00ffc8;
    margin-bottom: 4px;
  }
  .stat-label {
    font-size: 10px;
    font-weight: 600;
    color: #999;
    text-transform: uppercase;
    letter-spacing: 0.8px;
  }

  /* Progress Card */
  .progress-card {
    margin-bottom: 24px;
  }
  .progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
  }
  .progress-title {
    font-size: 16px;
    font-weight: 600;
    color: #fff;
  }
  .progress-pct {
    font-size: 18px;
    font-weight: 700;
    color: #00ffc8;
  }
  .progress-bar {
    height: 10px;
    border-radius: 5px;
    background: #1A1A1A;
    overflow: hidden;
    margin-bottom: 10px;
  }
  .progress-fill {
    height: 100%;
    border-radius: 5px;
    background: linear-gradient(90deg, #00ffc8, #00d4aa);
    transition: width 0.8s ease;
  }
  .progress-labels {
    display: flex;
    justify-content: space-between;
  }
  .progress-label-text {
    font-size: 12px;
    color: #999;
  }

  /* Section */
  .section-title {
    font-size: 20px;
    font-weight: 800;
    color: #fff;
    margin-bottom: 12px;
  }
  .section-subtitle {
    font-size: 14px;
    color: #BBBBBB;
    margin-bottom: 16px;
  }
  .description {
    font-size: 15px;
    line-height: 24px;
    color: #BBBBBB;
    margin-bottom: 24px;
  }

  /* ROI Calculator */
  .roi-section {
    background: #0F0F0F;
    border: 1px solid #1F1F1F;
    border-radius: 16px;
    padding: 20px;
    margin-bottom: 24px;
  }
  .roi-title {
    font-size: 20px;
    font-weight: 800;
    color: #fff;
    margin-bottom: 8px;
  }
  .roi-subtitle {
    font-size: 14px;
    color: #BBBBBB;
    margin-bottom: 24px;
  }
  .roi-presets-label {
    font-size: 14px;
    font-weight: 600;
    color: #BBBBBB;
    margin-bottom: 12px;
  }
  .roi-slider-wrap {
    margin-bottom: 16px;
  }
  .roi-slider {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 8px;
    border-radius: 4px;
    background: #1F1F1F;
    outline: none;
  }
  .roi-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #00ffc8;
    cursor: pointer;
    box-shadow: 0 0 12px rgba(0,255,200,0.4);
    transition: transform 0.15s;
  }
  .roi-slider::-webkit-slider-thumb:hover { transform: scale(1.08); }
  .roi-slider::-moz-range-thumb {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    background: #00ffc8;
    cursor: pointer;
    border: none;
    box-shadow: 0 0 12px rgba(0,255,200,0.4);
  }
  .roi-slider-limits {
    display: flex;
    justify-content: space-between;
    margin-top: 6px;
    font-size: 11px;
    color: #999;
  }
  .roi-presets {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    margin-bottom: 16px;
  }
  .roi-preset-btn {
    padding: 12px 16px;
    border-radius: 12px;
    background: #0A0A0A;
    border: 1px solid #1F1F1F;
    font-size: 14px;
    font-weight: 600;
    color: #fff;
    cursor: pointer;
    transition: all 0.2s;
  }
  .roi-preset-btn:hover { border-color: #333; background: #141414; }
  .roi-preset-btn.active {
    background: rgba(0,255,200,0.12);
    border-color: #00ffc8;
    color: #00ffc8;
  }
  .roi-selected-display {
    font-size: 18px;
    font-weight: 800;
    color: #00ffc8;
    margin-bottom: 20px;
  }
  .roi-results {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  .roi-row {
    display: flex;
    gap: 12px;
  }
  .roi-item {
    flex: 1;
    background: #0A0A0A;
    border-radius: 12px;
    padding: 16px;
  }
  .roi-item-label {
    font-size: 11px;
    color: #BBBBBB;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
  }
  .roi-item-value {
    font-size: 20px;
    font-weight: 800;
    color: #00ffc8;
  }
  .roi-item-value.green {
    color: #30D158;
  }
  .roi-total {
    background: rgba(0,255,200,0.1);
    border: 1px solid #00ffc8;
    border-radius: 16px;
    padding: 20px;
    text-align: center;
  }
  .roi-total-label {
    font-size: 11px;
    color: #BBBBBB;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 8px;
  }
  .roi-total-value {
    font-size: 32px;
    font-weight: 900;
    color: #00ffc8;
    margin-bottom: 4px;
  }
  .roi-total-sub {
    font-size: 14px;
    color: #999;
  }

  /* Due Diligence */
  .doc-section {
    margin-bottom: 24px;
  }
  .doc-item {
    display: flex;
    align-items: center;
    padding: 16px;
    gap: 14px;
    cursor: pointer;
    transition: background 0.2s;
  }
  .doc-item:hover {
    background: rgba(255,255,255,0.03);
  }
  .doc-icon {
    width: 44px;
    height: 44px;
    border-radius: 12px;
    background: rgba(0,255,200,0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  .doc-icon svg {
    width: 20px;
    height: 20px;
    color: #00ffc8;
  }
  .doc-info {
    flex: 1;
  }
  .doc-name {
    font-size: 15px;
    font-weight: 600;
    color: #fff;
    margin-bottom: 2px;
  }
  .doc-type {
    font-size: 13px;
    color: #999;
  }
  .doc-chevron svg {
    width: 18px;
    height: 18px;
    color: #999;
  }
  .doc-divider {
    height: 1px;
    margin: 0 16px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.06), transparent);
  }

  /* Fixed Footer */
  .fixed-footer {
    position: fixed;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 100%;
    max-width: 390px;
    background: rgba(10,10,10,0.9);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-top: 1px solid rgba(255,255,255,0.08);
    z-index: 100;
  }
  .footer-inner {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px calc(20px + env(safe-area-inset-left)) calc(32px + env(safe-area-inset-bottom)) calc(20px + env(safe-area-inset-right));
  }
  .footer-label {
    font-size: 12px;
    color: #999;
    margin-bottom: 2px;
  }
  .footer-value {
    font-size: 20px;
    font-weight: 700;
    color: #00ffc8;
  }
  .invest-btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 14px 28px;
    background: #00ffc8;
    color: #000;
    font-size: 16px;
    font-weight: 700;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    font-family: inherit;
    transition: all 0.2s;
    box-shadow: 0 0 24px rgba(0,255,200,0.3);
  }
  .invest-btn:hover {
    background: #00e6b4;
    box-shadow: 0 0 32px rgba(0,255,200,0.45);
  }
  .invest-btn svg {
    width: 18px;
    height: 18px;
  }

  /* Bottom spacer - clear fixed footer + home indicator */
  .bottom-spacer {
    height: calc(100px + env(safe-area-inset-bottom));
  }
</style>
</head>
<body>
<div class="phone-frame">

  <!-- Hero Image -->
  <div class="hero">
    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='600' viewBox='0 0 800 600'%3E%3Crect fill='%230a1628' width='800' height='600'/%3E%3Crect fill='%2300ffc8' opacity='0.1' x='150' y='150' width='500' height='300' rx='20'/%3E%3Ctext fill='%23ffffff' font-family='Arial' font-size='36' font-weight='bold' text-anchor='middle' x='400' y='300'%3EMarina Heights Residency%3C/text%3E%3Ctext fill='%2300ffc8' font-family='Arial' font-size='20' text-anchor='middle' x='400' y='340'%3EDubai Marina, UAE%3C/text%3E%3C/svg%3E" alt="Marina Heights Residency">
    <div class="hero-gradient"></div>
    <div class="hero-actions">
      <a href="properties.html" class="back-btn">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="19" y1="12" x2="5" y2="12"/><polyline points="12 19 5 12 12 5"/></svg>
      </a>
      <span class="badge badge-live">Live</span>
    </div>
    <div class="hero-content">
      <div class="hero-title">Marina Heights Residency</div>
      <div class="hero-location">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
        <span>Dubai Marina, UAE</span>
      </div>
    </div>
  </div>

  <div class="content">

    <!-- Stats Grid -->
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"/><polyline points="17 6 23 6 23 12"/></svg>
        </div>
        <div class="stat-value">7.2%</div>
        <div class="stat-label">Rental Yield</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/></svg>
        </div>
        <div class="stat-value">$5K</div>
        <div class="stat-label">Min Investment</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"/><line x1="9" y1="22" x2="9" y2="2"/><line x1="15" y1="22" x2="15" y2="2"/><line x1="4" y1="12" x2="20" y2="12"/></svg>
        </div>
        <div class="stat-value">$2.1M</div>
        <div class="stat-label">Property Value</div>
      </div>
      <div class="stat-card">
        <div class="stat-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21.21 15.89A10 10 0 118 2.83"/><path d="M22 12A10 10 0 0012 2v10z"/></svg>
        </div>
        <div class="stat-value">68%</div>
        <div class="stat-label">Funded</div>
      </div>
    </div>

    <!-- Funding Progress -->
    <div class="glass-card progress-card">
      <div class="progress-header">
        <span class="progress-title">Funding Progress</span>
        <span class="progress-pct">68%</span>
      </div>
      <div class="progress-bar">
        <div class="progress-fill" style="width:68%"></div>
      </div>
      <div class="progress-labels">
        <span class="progress-label-text">$1.4M raised</span>
        <span class="progress-label-text">Goal: $2.1M</span>
      </div>
    </div>

    <!-- About -->
    <div class="section-title">About this Property</div>
    <div class="description">
      Marina Heights Residency is a premium residential tower located in the heart of Dubai Marina. 
      Featuring 120 luxury apartments with stunning marina views, world-class amenities including 
      infinity pool, state-of-the-art fitness center, and 24/7 concierge service. The project offers 
      an excellent rental yield backed by Dubai's thriving real estate market and growing tourism sector.
    </div>

    <!-- ROI Calculator (slider limited by property value / available sqft) -->
    <div class="roi-section">
      <div class="roi-title">ROI Calculator</div>
      <div class="roi-subtitle">Select your investment amount (limited by property size)</div>

      <div class="roi-presets-label">Investment Amount</div>
      <div class="roi-slider-wrap">
        <input type="range" class="roi-slider" id="roiSlider" min="5000" max="672000" step="5000" value="5000">
        <div class="roi-slider-limits">
          <span id="roiMinLabel">$5K</span>
          <span id="roiMaxLabel">$672K</span>
        </div>
      </div>
      <div class="roi-selected-display" id="sliderDisplay">$5,000.00</div>

      <div class="roi-results">
        <div class="roi-row">
          <div class="roi-item">
            <div class="roi-item-label">Annual Return</div>
            <div class="roi-item-value" id="annualReturn">$360.00</div>
          </div>
          <div class="roi-item">
            <div class="roi-item-label">Monthly Income</div>
            <div class="roi-item-value" id="monthlyIncome">$30.00</div>
          </div>
        </div>
        <div class="roi-row">
          <div class="roi-item">
            <div class="roi-item-label">5-Year Value</div>
            <div class="roi-item-value green" id="fiveYearValue">$6,800.00</div>
          </div>
          <div class="roi-item">
            <div class="roi-item-label">Total Rent (5yr)</div>
            <div class="roi-item-value" id="totalRent">$1,800.00</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Due Diligence -->
    <div class="doc-section">
      <div class="section-title">Due Diligence</div>
      <div class="section-subtitle">Review legal documents and property information</div>
      <div class="glass-card-no-pad">
        <div class="doc-item">
          <div class="doc-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          </div>
          <div class="doc-info">
            <div class="doc-name">Property Valuation Report</div>
            <div class="doc-type">Valuation</div>
          </div>
          <div class="doc-chevron">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
          </div>
        </div>
        <div class="doc-divider"></div>
        <div class="doc-item">
          <div class="doc-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          </div>
          <div class="doc-info">
            <div class="doc-name">Legal Title Deed</div>
            <div class="doc-type">Legal</div>
          </div>
          <div class="doc-chevron">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
          </div>
        </div>
        <div class="doc-divider"></div>
        <div class="doc-item">
          <div class="doc-icon">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>
          </div>
          <div class="doc-info">
            <div class="doc-name">Financial Projections</div>
            <div class="doc-type">Financial</div>
          </div>
          <div class="doc-chevron">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg>
          </div>
        </div>
      </div>
    </div>

    <div class="bottom-spacer"></div>
  </div>

  <!-- Fixed Footer -->
  <div class="fixed-footer">
    <div class="footer-inner">
      <div>
        <div class="footer-label">Min. Investment</div>
        <div class="footer-value">$5K</div>
      </div>
      <a href="#" id="investBtn" class="invest-btn">
        Invest Now
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
      </a>
    </div>
  </div>

</div>

<script>
  // Property limits: max investment = available share (by funded % = remaining sqft value)
  const propertyValue = 2100000;
  const fundedPercent = 68;
  const minInvestment = 5000;
  const maxInvestment = Math.max(minInvestment, Math.floor(propertyValue * (1 - fundedPercent / 100)));

  const roiSlider = document.getElementById('roiSlider');
  const sliderDisplay = document.getElementById('sliderDisplay');
  const roiMinLabel = document.getElementById('roiMinLabel');
  const roiMaxLabel = document.getElementById('roiMaxLabel');
  const annualReturn = document.getElementById('annualReturn');
  const monthlyIncome = document.getElementById('monthlyIncome');
  const fiveYearValue = document.getElementById('fiveYearValue');
  const totalRent = document.getElementById('totalRent');
  const yieldRate = 0.072;
  const appreciationRate = 0.05;

  roiSlider.min = minInvestment;
  roiSlider.max = maxInvestment;
  roiSlider.step = 5000;
  roiSlider.value = minInvestment;
  roiMinLabel.textContent = minInvestment >= 1000000 ? '$' + (minInvestment / 1000000).toFixed(1) + 'M' : '$' + (minInvestment / 1000) + 'K';
  roiMaxLabel.textContent = maxInvestment >= 1000000 ? '$' + (maxInvestment / 1000000).toFixed(1) + 'M' : '$' + (maxInvestment / 1000) + 'K';

  let selectedAmount = minInvestment;

  function formatCurrency(amount) {
    return '$' + amount.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ',');
  }

  function setAmount(amt) {
    selectedAmount = Math.min(maxInvestment, Math.max(minInvestment, amt));
    roiSlider.value = selectedAmount;
    sliderDisplay.textContent = formatCurrency(selectedAmount);
    updateSliderFill();
    updateROI();
  }

  function updateSliderFill() {
    const pct = maxInvestment > minInvestment ? ((selectedAmount - minInvestment) / (maxInvestment - minInvestment)) * 100 : 0;
    roiSlider.style.background = 'linear-gradient(to right, #00ffc8 0%, #00ffc8 ' + pct + '%, #1F1F1F ' + pct + '%, #1F1F1F 100%)';
  }

  roiSlider.addEventListener('input', function() {
    setAmount(parseInt(roiSlider.value, 10));
  });

  function updateROI() {
    const investment = selectedAmount;
    const annual = investment * yieldRate;
    const monthly = annual / 12;
    const totalRentVal = annual * 5;
    const appreciation = investment * Math.pow(1 + appreciationRate, 5) - investment;
    const fiveYear = investment + totalRentVal + appreciation;

    annualReturn.textContent = formatCurrency(annual);
    monthlyIncome.textContent = formatCurrency(monthly);
    fiveYearValue.textContent = formatCurrency(fiveYear);
    totalRent.textContent = formatCurrency(totalRentVal);
  }

  updateSliderFill();
  updateROI();

  document.getElementById('investBtn').addEventListener('click', function(e) {
    e.preventDefault();
    window.location.href = 'checkout.html?amount=' + selectedAmount;
  });
</script>
<script>if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js').catch(function(){});</script>
</body>
</html>
